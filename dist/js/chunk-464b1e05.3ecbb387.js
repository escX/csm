(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-464b1e05"],{"2ce6":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"3b80":function(e,t,r){var a=r("2d2c"),n=r("2b11"),i=r("201d"),o=r("2ce6"),s="["+o+"]",l="​",c=RegExp("^"+s+s+"*"),d=RegExp(s+s+"*$"),p=function(e,t,r){var n={},s=i(function(){return!!o[e]()||l[e]()!=l}),c=n[e]=s?t(u):o[e];r&&(n[r]=c),a(a.P+a.F*s,"String",n)},u=p.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(d,"")),e};e.exports=p},"5ab7":function(e,t,r){var a=r("836e"),n=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},"612f":function(e,t,r){for(var a=r("5c07"),n=r("d753"),i=r("7f00"),o=r("4839"),s=r("c84b"),l=r("f03e"),c=r("f3ae"),d=c("iterator"),p=c("toStringTag"),u=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=n(f),y=0;y<g.length;y++){var b,m=g[y],h=f[m],_=o[m],v=_&&_.prototype;if(v&&(v[d]||s(v,d,u),v[p]||s(v,p,m),l[m]=u,h))for(b in a)v[b]||i(v,b,a[b],!0)}},"634a":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nodeOrderTable"}},[r("div",{attrs:{id:"tableHeader"}},[r("el-button",{staticClass:"rightButton",attrs:{type:"primary"},on:{click:e.exportData}},[e._v("导出当前页面数据")]),r("el-input",{attrs:{placeholder:"输入关键字搜索",clearable:"","prefix-icon":"el-icon-search"},on:{clear:e.search},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.keyword,callback:function(t){e.keyword="string"===typeof t?t.trim():t},expression:"keyword"}})],1),r("el-table",{attrs:{border:"",stripe:"",data:e.list[e.pageIndex],height:e.tableHeight,"row-class-name":e.getRowClassName,"row-key":"order_id","expand-row-keys":e.expandKeys},on:{"expand-change":e.handleExpand,"filter-change":e.handleFilter}},[r("el-table-column",{attrs:{type:"expand",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{attrs:{inline:"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"收件人",prop:"receive_by"}},[r("el-input",{model:{value:t.row.detail.receive_by,callback:function(r){e.$set(t.row.detail,"receive_by","string"===typeof r?r.trim():r)},expression:"props.row.detail.receive_by"}})],1),r("el-form-item",{attrs:{label:"联系电话",prop:"mobile"}},[r("el-input",{model:{value:t.row.detail.mobile,callback:function(r){e.$set(t.row.detail,"mobile","string"===typeof r?r.trim():r)},expression:"props.row.detail.mobile"}})],1),r("el-form-item",{attrs:{label:"省份",prop:"province"}},[r("el-input",{model:{value:t.row.detail.province,callback:function(r){e.$set(t.row.detail,"province","string"===typeof r?r.trim():r)},expression:"props.row.detail.province"}})],1),r("el-form-item",{attrs:{label:"城市",prop:"city"}},[r("el-input",{model:{value:t.row.detail.city,callback:function(r){e.$set(t.row.detail,"city","string"===typeof r?r.trim():r)},expression:"props.row.detail.city"}})],1),r("el-form-item",{attrs:{label:"区县",prop:"area"}},[r("el-input",{model:{value:t.row.detail.area,callback:function(r){e.$set(t.row.detail,"area","string"===typeof r?r.trim():r)},expression:"props.row.detail.area"}})],1),r("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[r("el-input",{model:{value:t.row.detail.address,callback:function(r){e.$set(t.row.detail,"address","string"===typeof r?r.trim():r)},expression:"props.row.detail.address"}})],1),r("el-form-item",{attrs:{label:"物流公司",prop:"express_company"}},[r("el-input",{model:{value:t.row.detail.express_company,callback:function(r){e.$set(t.row.detail,"express_company","string"===typeof r?r.trim():r)},expression:"props.row.detail.express_company"}})],1),r("el-form-item",{attrs:{label:"快递单号",prop:"express_no"}},[r("el-input",{model:{value:t.row.detail.express_no,callback:function(r){e.$set(t.row.detail,"express_no","string"===typeof r?r.trim():r)},expression:"props.row.detail.express_no"}})],1)],1),r("el-button",{staticClass:"updataBtn",attrs:{type:"primary"},on:{click:e.updateOrder}},[e._v("更新")])]}}])}),r("el-table-column",{attrs:{prop:"order_no",label:"订单编号",width:"100",align:"center"}}),r("el-table-column",{attrs:{prop:"trade_no",label:"交易流水号",width:"120",align:"center"}}),r("el-table-column",{attrs:{prop:"vip_no",label:"会员编号",width:"100",align:"center"}}),r("el-table-column",{attrs:{prop:"total_fee",label:"订单金额",width:"100",align:"center"}}),r("el-table-column",{attrs:{prop:"is_pay",label:"支付状态",width:"100",align:"center","column-key":"is_pay",filters:e.payState,"filter-multiple":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{size:"mini",type:e.payState.find(function(e){return e.value==t.row.is_pay}).tagType}},[e._v("\n          "+e._s(e.payState.find(function(e){return e.value==t.row.is_pay}).text)+"\n        ")])]}}])}),r("el-table-column",{attrs:{prop:"state",label:"订单状态",width:"100",align:"center","column-key":"state",filters:e.orderState,"filter-multiple":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{size:"mini",type:e.orderState.find(function(e){return e.value===t.row.state}).tagType}},[e._v("\n          "+e._s(t.row.state)+"\n        ")])]}}])}),r("el-table-column",{attrs:{prop:"receive_by",label:"收件人",width:"100",align:"center"}}),r("el-table-column",{attrs:{prop:"mobile",label:"联系电话",width:"120",align:"center"}}),r("el-table-column",{attrs:{prop:"buyer_msg",label:"买家留言",align:"center"}}),r("el-table-column",{attrs:{prop:"create_time",label:"下单时间",width:"100",align:"center"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["待发货"===t.row.state?r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.handleOperate(t.row.order_id)}}},[e._v("发货")]):e._e()]}}])})],1),r("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next","page-sizes":e.pagination.pageSizes,total:e.pagination.total,"page-size":e.pagination.pageSize,"current-page":e.pagination.page},on:{"update:currentPage":function(t){return e.$set(e.pagination,"page",t)},"update:current-page":function(t){return e.$set(e.pagination,"page",t)},"current-change":e.changePage,"size-change":e.changeSize}})],1)},n=[],i=r("cc80"),o=r.n(i),s=r("6fc8"),l=r.n(s),c=(r("612f"),r("7415"),r("e0c1"),r("93fe"),r("b06f"),r("3f47")),d=r("d722"),p=r("025e"),u={receive_by:"收件人",mobile:"联系电话",province:"省份",city:"城市",area:"区县",address:"详细地址",express_company:"物流公司",express_no:"快递单号",order_no:"订单编号",trade_no:"交易流水号",vip_no:"会员编号",total_fee:"订单金额",is_pay:"支付状态",state:"订单状态",buyer_msg:"买家留言",create_time:"下单时间"},f={data:function(){return{tableHeight:document.getElementById(p["a"]).clientHeight-120-50-50,list:[],pagination:{total:0,pageSizes:[20,50,100,200],pageSize:20,page:1},orderState:[{text:"待付款",value:"待付款",tagType:"danger"},{text:"待发货",value:"待发货",tagType:"warning"},{text:"待签收",value:"待签收",tagType:"info"},{text:"已签收",value:"已签收",tagType:"success"}],payState:[{text:"未支付",value:"0",tagType:"danger"},{text:"已支付",value:"1",tagType:"success"}],keyword:"",selectedOrderState:"",selectedPayState:"",getRowClassName:function(e){var t=e.row;return"row-id-".concat(t.order_id)},expandKeys:[],expandId:"",updateExclude:["create_by","create_time","member_id","modify_by","modify_time","order_id","order_no","trade_no","vip_no","total_fee","is_pay","state","pay_time","buyer_msg"]}},computed:{pageIndex:function(){return this.pagination.page-1}},created:function(){this.getOrderList()},methods:{getOrderList:function(){var e=this;this.$setLoadingTarget("#nodeOrderTable"),Object(d["g"])({keyword:this.keyword,is_pay:this.selectedPayState,state:this.selectedOrderState,page:this.pagination.page,page_size:this.pagination.pageSize}).then(function(t){1===t.code&&(e.list[e.pageIndex]=t.data.items.map(function(e){return Object(c["a"])({},e,{detail:{}})}),e.pagination.total=Number(t.data.total),e.$forceUpdate())})},changePage:function(){void 0===this.list[this.pageIndex]&&this.getOrderList()},changeSize:function(e){this.pagination.pageSize=e,this.resetTable()},handleFilter:function(e){e.state instanceof Array&&(void 0!==e.state[0]?this.selectedOrderState=e.state[0]:this.selectedOrderState=""),e.is_pay instanceof Array&&(void 0!==e.is_pay[0]?this.selectedPayState=e.is_pay[0]:this.selectedPayState=""),this.resetTable()},search:function(){this.resetTable()},resetTable:function(){this.pagination.total=0,this.pagination.page=1,this.list=[],this.getOrderList()},handleExpand:function(e,t){this.expandKeys=[],this.expandId="";var r=t.map(function(e){return e.order_id});r.includes(e.order_id)&&(this.expandId=e.order_id,this.expandKeys.push(e.order_id),this.$nextTick(function(){document.querySelector(".row-id-".concat(e.order_id)).scrollIntoView()}),void 0===e.detail.order_id&&this.getOrderDetail(e))},handleOperate:function(e){var t=this;Object(d["n"])({state:"待签收"}).then(function(r){if(1===r.code){var a=t.list[t.pageIndex].find(function(t){return t.order_id===e});a instanceof Object&&(a.state="待签收",a.detail.state="待签收"),t.$message({message:"发货成功"})}})},getOrderDetail:function(e){var t=this;this.$setLoadingTarget("#nodeOrderTable"),Object(d["f"])({order_id:e.order_id}).then(function(r){1===r.code?e.detail=Object(c["a"])({},r.data):t.$message({type:"error",message:r.msg})})},updateOrder:function(){var e=this;this.$confirm("更新数据后不能复原，确定要更新？").then(function(){var t=e.list[e.pageIndex].find(function(t){return t.order_id===e.expandId}),r=Object(c["a"])({},t.detail);e.updateExclude.forEach(function(e){delete r[e]}),e.$setLoadingTarget("#nodeOrderTable"),Object(d["n"])(r).then(function(a){var n=a.msg,i="error";if(1===a.code)for(var o in n="更新数据成功",i="success",r)t[o]=r[o];e.$message({message:n,type:i})})}).catch(function(){})},exportData:function(){var e=this.list[this.pageIndex],t=e.map(function(e){var t=l()(null);for(var r in e){var a=u[r];void 0!==a&&(t[a]=e[r])}return t});Object(p["b"])({filename:"订单".concat(Object(p["d"])()),filedata:JSON.parse(o()(t))})}}},g=f,y=(r("fd2a"),r("17cc")),b=Object(y["a"])(g,a,n,!1,null,"67370ad2",null);t["default"]=b.exports},"6fc8":function(e,t,r){e.exports=r("fd92")},"73a9":function(e,t,r){},7415:function(e,t,r){"use strict";var a=r("2d2c"),n=r("ea02")(5),i="find",o=!0;i in[]&&Array(1)[i](function(){o=!1}),a(a.P+a.F*o,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("68fb")(i)},"74de":function(e,t,r){var a=r("d635"),n=r("2b11");e.exports=function(e,t,r){if(a(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(n(e))}},9357:function(e,t,r){var a=r("471d");a(a.S,"Object",{create:r("8070")})},"93fe":function(e,t,r){"use strict";var a=r("2d2c"),n=r("74de"),i="includes";a(a.P+a.F*r("dd8b")(i),"String",{includes:function(e){return!!~n(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},b06f:function(e,t,r){"use strict";var a=r("4839"),n=r("3301"),i=r("9b6d"),o=r("d62f"),s=r("1f51"),l=r("201d"),c=r("62af").f,d=r("78de").f,p=r("694f").f,u=r("3b80").trim,f="Number",g=a[f],y=g,b=g.prototype,m=i(r("04ac")(b))==f,h="trim"in String.prototype,_=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=h?t.trim():u(t,3);var r,a,n,i=t.charCodeAt(0);if(43===i||45===i){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+t}for(var o,l=t.slice(2),c=0,d=l.length;c<d;c++)if(o=l.charCodeAt(c),o<48||o>n)return NaN;return parseInt(l,a)}}return+t};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof g&&(m?l(function(){b.valueOf.call(r)}):i(r)!=f)?o(new y(_(t)),r,g):_(t)};for(var v,x=r("3a0f")?c(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)n(y,v=x[w])&&!n(g,v)&&p(g,v,d(y,v));g.prototype=b,b.constructor=g,r("7f00")(a,f,g)}},cc80:function(e,t,r){e.exports=r("5ab7")},d62f:function(e,t,r){var a=r("b429"),n=r("d772").set;e.exports=function(e,t,r){var i,o=t.constructor;return o!==r&&"function"==typeof o&&(i=o.prototype)!==r.prototype&&a(i)&&n&&n(e,i),e}},d635:function(e,t,r){var a=r("b429"),n=r("9b6d"),i=r("f3ae")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==n(e))}},d772:function(e,t,r){var a=r("b429"),n=r("4d65"),i=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=r("0709")(Function.call,r("78de").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:a(e,r),e}}({},!1):void 0),check:i}},dd8b:function(e,t,r){var a=r("f3ae")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,!"/./"[e](t)}catch(n){}}return!0}},e0c1:function(e,t,r){"use strict";var a=r("2d2c"),n=r("0d0d")(!0);a(a.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("68fb")("includes")},fd2a:function(e,t,r){"use strict";var a=r("73a9"),n=r.n(a);n.a},fd92:function(e,t,r){r("9357");var a=r("836e").Object;e.exports=function(e,t){return a.create(e,t)}}}]);
//# sourceMappingURL=chunk-464b1e05.3ecbb387.js.map