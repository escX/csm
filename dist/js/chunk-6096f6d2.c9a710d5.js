(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6096f6d2"],{"2ad8":function(e,t,a){"use strict";var r=a("8998"),n=a.n(r);n.a},"2fdb":function(e,t,a){"use strict";var r=a("5ca1"),n=a("d2c8"),i="includes";r(r.P+r.F*a("5147")(i),"String",{includes:function(e){return!!~n(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},5147:function(e,t,a){var r=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,!"/./"[e](t)}catch(n){}}return!0}},"5dbc":function(e,t,a){var r=a("d3f4"),n=a("8b97").set;e.exports=function(e,t,a){var i,o=t.constructor;return o!==a&&"function"==typeof o&&(i=o.prototype)!==a.prototype&&r(i)&&n&&n(e,i),e}},"634a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"nodeOrderTable"}},[a("div",{attrs:{id:"tableHeader"}},[a("el-input",{attrs:{placeholder:"输入关键字搜索",clearable:""},on:{clear:e.search},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.keyword,callback:function(t){e.keyword="string"===typeof t?t.trim():t},expression:"keyword"}})],1),a("el-table",{attrs:{border:"",stripe:"",data:e.list[e.pageIndex],height:e.tableHeight,"row-class-name":e.getRowClassName,"row-key":"order_id","expand-row-keys":e.expandKeys},on:{"expand-change":e.handleExpand,"filter-change":e.handleFilter}},[a("el-table-column",{attrs:{type:"expand",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{inline:"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"收件人",prop:"receive_by"}},[a("el-input",{model:{value:t.row.detail.receive_by,callback:function(a){e.$set(t.row.detail,"receive_by","string"===typeof a?a.trim():a)},expression:"props.row.detail.receive_by"}})],1),a("el-form-item",{attrs:{label:"联系电话",prop:"mobile"}},[a("el-input",{model:{value:t.row.detail.mobile,callback:function(a){e.$set(t.row.detail,"mobile","string"===typeof a?a.trim():a)},expression:"props.row.detail.mobile"}})],1),a("el-form-item",{attrs:{label:"省份",prop:"province"}},[a("el-input",{model:{value:t.row.detail.province,callback:function(a){e.$set(t.row.detail,"province","string"===typeof a?a.trim():a)},expression:"props.row.detail.province"}})],1),a("el-form-item",{attrs:{label:"城市",prop:"city"}},[a("el-input",{model:{value:t.row.detail.city,callback:function(a){e.$set(t.row.detail,"city","string"===typeof a?a.trim():a)},expression:"props.row.detail.city"}})],1),a("el-form-item",{attrs:{label:"区县",prop:"area"}},[a("el-input",{model:{value:t.row.detail.area,callback:function(a){e.$set(t.row.detail,"area","string"===typeof a?a.trim():a)},expression:"props.row.detail.area"}})],1),a("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[a("el-input",{model:{value:t.row.detail.address,callback:function(a){e.$set(t.row.detail,"address","string"===typeof a?a.trim():a)},expression:"props.row.detail.address"}})],1),a("el-form-item",{attrs:{label:"物流公司",prop:"express_company"}},[a("el-input",{model:{value:t.row.detail.express_company,callback:function(a){e.$set(t.row.detail,"express_company","string"===typeof a?a.trim():a)},expression:"props.row.detail.express_company"}})],1),a("el-form-item",{attrs:{label:"快递单号",prop:"express_no"}},[a("el-input",{model:{value:t.row.detail.express_no,callback:function(a){e.$set(t.row.detail,"express_no","string"===typeof a?a.trim():a)},expression:"props.row.detail.express_no"}})],1)],1),a("el-button",{staticClass:"updataBtn",attrs:{type:"primary"},on:{click:e.updateOrder}},[e._v("更新")])]}}])}),a("el-table-column",{attrs:{prop:"order_no",label:"订单编号",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"trade_no",label:"交易流水号",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"vip_no",label:"会员编号",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"total_fee",label:"订单金额",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"is_pay",label:"支付状态",width:"100",align:"center","column-key":"is_pay",filters:e.payState,"filter-multiple":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"mini",type:e.payState.find(function(e){return e.value==t.row.is_pay}).tagType}},[e._v("\n          "+e._s(e.payState.find(function(e){return e.value==t.row.is_pay}).text)+"\n        ")])]}}])}),a("el-table-column",{attrs:{prop:"state",label:"订单状态",width:"100",align:"center","column-key":"state",filters:e.orderState,"filter-multiple":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"mini",type:e.orderState.find(function(e){return e.value===t.row.state}).tagType}},[e._v("\n          "+e._s(t.row.state)+"\n        ")])]}}])}),a("el-table-column",{attrs:{prop:"receive_by",label:"收件人",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"联系电话",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"buyer_msg",label:"买家留言",align:"center"}}),a("el-table-column",{attrs:{prop:"create_time",label:"下单时间",width:"100",align:"center"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["待发货"===t.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleOperate(t.row.order_id)}}},[e._v("发货")]):e._e()]}}])})],1),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.pagination.total/e.pagination.pageSize>1,expression:"pagination.total/pagination.pageSize>1"}],attrs:{background:"",layout:"prev, pager, next",total:e.pagination.total,"page-size":e.pagination.pageSize,"current-page":e.pagination.page},on:{"update:currentPage":function(t){return e.$set(e.pagination,"page",t)},"update:current-page":function(t){return e.$set(e.pagination,"page",t)},"current-change":e.changePage}})],1)},n=[],i=(a("ac6a"),a("7514"),a("6762"),a("2fdb"),a("c5f6"),a("cebc")),o=(a("cadf"),a("551c"),a("f751"),a("097d"),a("d722")),s=a("025e"),l={data:function(){return{tableHeight:document.getElementById(s["a"]).clientHeight-120-50-50,list:[],pagination:{total:0,pageSize:20,page:1},orderState:[{text:"待付款",value:"待付款",tagType:"danger"},{text:"待发货",value:"待发货",tagType:"warning"},{text:"待签收",value:"待签收",tagType:"info"},{text:"已签收",value:"已签收",tagType:"success"}],payState:[{text:"未支付",value:"0",tagType:"danger"},{text:"已支付",value:"1",tagType:"success"}],keyword:"",selectedOrderState:"",selectedPayState:"",getRowClassName:function(e){var t=e.row;return"row-id-".concat(t.order_id)},expandKeys:[],expandId:"",updateExclude:["create_by","create_time","member_id","modify_by","modify_time","order_id","order_no","trade_no","vip_no","total_fee","is_pay","state","pay_time","buyer_msg"]}},computed:{pageIndex:function(){return this.pagination.page-1}},created:function(){this.getOrderList()},methods:{getOrderList:function(){var e=this;this.$setLoadingTarget("#nodeOrderTable"),Object(o["g"])({keyword:this.keyword,is_pay:this.selectedPayState,state:this.selectedOrderState,page:this.pagination.page,page_size:this.pagination.pageSize}).then(function(t){1===t.code&&(e.list[e.pageIndex]=t.data.items.map(function(e){return Object(i["a"])({},e,{detail:{}})}),e.pagination.total=Number(t.data.total),e.$forceUpdate())})},changePage:function(){void 0===this.list[this.pageIndex]&&this.getOrderList()},handleFilter:function(e){e.state instanceof Array&&(void 0!==e.state[0]?this.selectedOrderState=e.state[0]:this.selectedOrderState=""),e.is_pay instanceof Array&&(void 0!==e.is_pay[0]?this.selectedPayState=e.is_pay[0]:this.selectedPayState=""),this.resetTable(),this.getOrderList()},search:function(){this.resetTable(),this.getOrderList()},resetTable:function(){this.pagination.total=0,this.pagination.page=1,this.list=[]},handleExpand:function(e,t){this.expandKeys=[],this.expandId="";var a=t.map(function(e){return e.order_id});a.includes(e.order_id)&&(this.expandId=e.order_id,this.expandKeys.push(e.order_id),this.$nextTick(function(){document.querySelector(".row-id-".concat(e.order_id)).scrollIntoView()}),void 0===e.detail.order_id&&this.getOrderDetail(e))},handleOperate:function(e){var t=this;Object(o["n"])({state:"待签收"}).then(function(a){if(1===a.code){var r=t.list[t.pageIndex].find(function(t){return t.order_id===e});r instanceof Object&&(r.state="待签收",r.detail.state="待签收"),t.$message({message:"发货成功"})}})},getOrderDetail:function(e){var t=this;this.$setLoadingTarget("#nodeOrderTable"),Object(o["f"])({order_id:e.order_id}).then(function(a){1===a.code?e.detail=Object(i["a"])({},a.data):t.$message({type:"error",message:a.msg})})},updateOrder:function(){var e=this;this.$confirm("更新数据后不能复原，确定要更新？").then(function(){var t=e.list[e.pageIndex].find(function(t){return t.order_id===e.expandId});if(!(t instanceof Object&&void 0===t.detail.order_id))return e.$message({message:"没有可以更新的数据",type:"warning"}),!1;var a=Object(i["a"])({},t.detail);e.updateExclude.forEach(function(e){delete a[e]}),e.$setLoadingTarget("#nodeOrderTable"),Object(o["n"])(a).then(function(r){var n=r.msg,i="error";if(1===r.code)for(var o in n="更新数据成功",i="success",a)t[o]=a[o];e.$message({message:n,type:i})})}).catch(function(){})}}},c=l,d=(a("2ad8"),a("2877")),p=Object(d["a"])(c,r,n,!1,null,"7d850da2",null);t["default"]=p.exports},6762:function(e,t,a){"use strict";var r=a("5ca1"),n=a("c366")(!0);r(r.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},7514:function(e,t,a){"use strict";var r=a("5ca1"),n=a("0a49")(5),i="find",o=!0;i in[]&&Array(1)[i](function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(i)},8998:function(e,t,a){},"8b97":function(e,t,a){var r=a("d3f4"),n=a("cb7c"),i=function(e,t){if(n(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,a){return i(e,a),t?e.__proto__=a:r(e,a),e}}({},!1):void 0),check:i}},aa77:function(e,t,a){var r=a("5ca1"),n=a("be13"),i=a("79e5"),o=a("fdef"),s="["+o+"]",l="​",c=RegExp("^"+s+s+"*"),d=RegExp(s+s+"*$"),p=function(e,t,a){var n={},s=i(function(){return!!o[e]()||l[e]()!=l}),c=n[e]=s?t(u):o[e];a&&(n[a]=c),r(r.P+r.F*s,"String",n)},u=p.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(d,"")),e};e.exports=p},aae3:function(e,t,a){var r=a("d3f4"),n=a("2d95"),i=a("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==n(e))}},ac6a:function(e,t,a){for(var r=a("cadf"),n=a("0d58"),i=a("2aba"),o=a("7726"),s=a("32e9"),l=a("84f2"),c=a("2b4c"),d=c("iterator"),p=c("toStringTag"),u=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=n(f),y=0;y<g.length;y++){var m,h=g[y],b=f[h],_=o[h],v=_&&_.prototype;if(v&&(v[d]||s(v,d,u),v[p]||s(v,p,h),l[h]=u,b))for(m in r)v[m]||i(v,m,r[m],!0)}},c5f6:function(e,t,a){"use strict";var r=a("7726"),n=a("69a8"),i=a("2d95"),o=a("5dbc"),s=a("6a99"),l=a("79e5"),c=a("9093").f,d=a("11e9").f,p=a("86cc").f,u=a("aa77").trim,f="Number",g=r[f],y=g,m=g.prototype,h=i(a("2aeb")(m))==f,b="trim"in String.prototype,_=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():u(t,3);var a,r,n,i=t.charCodeAt(0);if(43===i||45===i){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+t}for(var o,l=t.slice(2),c=0,d=l.length;c<d;c++)if(o=l.charCodeAt(c),o<48||o>n)return NaN;return parseInt(l,r)}}return+t};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof g&&(h?l(function(){m.valueOf.call(a)}):i(a)!=f)?o(new y(_(t)),a,g):_(t)};for(var v,w=a("9e1e")?c(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)n(y,v=w[x])&&!n(g,v)&&p(g,v,d(y,v));g.prototype=m,m.constructor=g,a("2aba")(r,f,g)}},d2c8:function(e,t,a){var r=a("aae3"),n=a("be13");e.exports=function(e,t,a){if(r(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(n(e))}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-6096f6d2.c9a710d5.js.map